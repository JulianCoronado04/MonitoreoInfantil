<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Herramienta · Monitoreo Infantil</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="{{ url_for('index') }}">Monitoreo Infantil</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}#presentaion">Presentaion</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}#etl">ETL</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}#diagramas">Diagramas</a></li>
        <li class="nav-item"><a class="nav-link active" href="{{ url_for('index') }}#herramienta">Herramienta</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}#github">GitHub</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="mt-5 pt-4">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-12 col-md-10 col-lg-8">
        <h1 class="text-center mb-4">Herramienta</h1>
        <p class="text-center text-muted mb-4">
          Interactúa con la herramienta. Ingresa el número de identidad para acceder a la información del registro.
        </p>

        <form method="post" class="card card-lg shadow-sm p-4 form-panel">
          <div class="row g-3">
            <!-- Espacio 1: Numero de identidad -->
            <div class="col-12">
              <label for="id_number" class="form-label fw-semibold">Número de identidad</label>
              <input id="id_number" name="id_number" type="text" class="form-control form-control-lg" placeholder="Ej. 1023344558" value="{{ id_number or '' }}" required>
            </div>

            <!-- Espacio 2: Campo adicional (diseño) -->
            <div class="col-md-6">
              <label class="form-label">Nombre</label>
              <input type="text" class="form-control" placeholder="Opcional">
            </div>

            <!-- Espacio 3: Campo adicional (diseño) -->
            <div class="col-md-6">
              <label class="form-label">Primer Apellido</label>
              <input type="text" class="form-control" placeholder="Opcional">
            </div>

            <div class="col-12 text-center mt-2">
              <button type="submit" class="btn btn-primary btn-lg px-5 transition">Buscar</button>
              <a href="{{ url_for('index') }}" class="btn btn-outline-secondary btn-lg ms-2">Volver</a>
            </div>

            {% if db_error %}
            <div class="col-12 mt-4">
              <div class="alert alert-danger mb-0">
                Error de conexión a la base de datos: <strong>{{ db_error }}</strong>
              </div>
            </div>
            {% elif person %}
            <div class="col-12 mt-4">
              <div class="card shadow-sm p-3">
                <h5 class="mb-2">Resultado para <strong>{{ person.id_number }}</strong></h5>
                <ul class="list-unstyled mb-0">
                  <li><strong>Nombre:</strong> {{ person.nombre }}</li>
                  <li><strong>Apellido:</strong> {{ person.apellido }}</li>
                  <li><strong>Fecha de nacimiento:</strong> {{ person.fecha_nacimiento or 'N/D' }}</li>
                </ul>
              </div>
            </div>
            {% elif id_number %}
            <div class="col-12 mt-4">
              <div class="alert alert-warning mb-0">
                No se encontró ningún registro para <strong>{{ id_number }}</strong>.
              </div>
            </div>
            {% endif %}
          </div>
        </form>

      </div>
    </div>
  </div>
</main>

<footer class="footer bg-dark text-white py-3">
  <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
    <div><small>Julian David Coronado · Cristian Leonardo Moscoso · Nicolas Gutierrez — Universidad de Cundinamarca</small></div>
    <div class="mt-2 mt-md-0"><small class="text-muted">Logo Universidad de Cundinamarca</small></div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>